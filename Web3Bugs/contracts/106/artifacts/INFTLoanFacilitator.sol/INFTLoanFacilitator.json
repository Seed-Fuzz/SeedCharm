{"abi":[{"type":"function","name":"INTEREST_RATE_DECIMALS","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"nonpayable"},{"type":"function","name":"SCALAR","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"borrowTicketContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"closeLoan","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"},{"name":"sendCollateralTo","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"createLoan","inputs":[{"name":"collateralTokenId","type":"uint256","internalType":"uint256"},{"name":"collateralContractAddress","type":"address","internalType":"address"},{"name":"maxPerAnumInterest","type":"uint16","internalType":"uint16"},{"name":"minLoanAmount","type":"uint128","internalType":"uint128"},{"name":"loanAssetContractAddress","type":"address","internalType":"address"},{"name":"minDurationSeconds","type":"uint32","internalType":"uint32"},{"name":"mintBorrowTicketTo","type":"address","internalType":"address"}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"interestOwed","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lend","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"},{"name":"interestRate","type":"uint16","internalType":"uint16"},{"name":"amount","type":"uint128","internalType":"uint128"},{"name":"durationSeconds","type":"uint32","internalType":"uint32"},{"name":"sendLendTicketTo","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"lendTicketContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"loanEndSeconds","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"loanInfo","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"closed","type":"bool","internalType":"bool"},{"name":"perAnumInterestRate","type":"uint16","internalType":"uint16"},{"name":"durationSeconds","type":"uint32","internalType":"uint32"},{"name":"lastAccumulatedTimestamp","type":"uint40","internalType":"uint40"},{"name":"collateralContractAddress","type":"address","internalType":"address"},{"name":"loanAssetContractAddress","type":"address","internalType":"address"},{"name":"accumulatedInterest","type":"uint128","internalType":"uint128"},{"name":"loanAmount","type":"uint128","internalType":"uint128"},{"name":"collateralTokenId","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"loanInfoStruct","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct INFTLoanFacilitator.Loan","components":[{"name":"closed","type":"bool","internalType":"bool"},{"name":"perAnumInterestRate","type":"uint16","internalType":"uint16"},{"name":"durationSeconds","type":"uint32","internalType":"uint32"},{"name":"lastAccumulatedTimestamp","type":"uint40","internalType":"uint40"},{"name":"collateralContractAddress","type":"address","internalType":"address"},{"name":"loanAssetContractAddress","type":"address","internalType":"address"},{"name":"accumulatedInterest","type":"uint128","internalType":"uint128"},{"name":"loanAmount","type":"uint128","internalType":"uint128"},{"name":"collateralTokenId","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"originationFeeRate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"repayAndCloseLoan","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"requiredImprovementRate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"seizeCollateral","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"},{"name":"sendCollateralTo","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"totalOwed","inputs":[{"name":"loanId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"BuyoutLender","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"lender","type":"address","indexed":true,"internalType":"address"},{"name":"replacedLoanOwner","type":"address","indexed":true,"internalType":"address"},{"name":"interestEarned","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"replacedAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Close","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CreateLoan","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"minter","type":"address","indexed":true,"internalType":"address"},{"name":"collateralTokenId","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateralContract","type":"address","indexed":false,"internalType":"address"},{"name":"maxInterestRate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"loanAssetContract","type":"address","indexed":false,"internalType":"address"},{"name":"minLoanAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"minDurationSeconds","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Lend","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"lender","type":"address","indexed":true,"internalType":"address"},{"name":"interestRate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"loanAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"durationSeconds","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Repay","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"repayer","type":"address","indexed":true,"internalType":"address"},{"name":"loanOwner","type":"address","indexed":true,"internalType":"address"},{"name":"interestEarned","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"loanAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SeizeCollateral","inputs":[{"name":"id","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"UpdateOriginationFeeRate","inputs":[{"name":"feeRate","type":"uint32","indexed":false,"internalType":"uint32"}],"anonymous":false},{"type":"event","name":"UpdateRequiredImprovementRate","inputs":[{"name":"improvementRate","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"WithdrawOriginationFees","inputs":[{"name":"asset","type":"address","indexed":false,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"to","type":"address","indexed":false,"internalType":"address"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"INTEREST_RATE_DECIMALS()":"66234ffa","SCALAR()":"6bf301a4","borrowTicketContract()":"7af26c1f","closeLoan(uint256,address)":"7e8400b2","createLoan(uint256,address,uint16,uint128,address,uint32,address)":"fc9445c5","interestOwed(uint256)":"10780bed","lend(uint256,uint16,uint128,uint32,address)":"b8efff83","lendTicketContract()":"67cec5a3","loanEndSeconds(uint256)":"5ecd2173","loanInfo(uint256)":"8349d6be","loanInfoStruct(uint256)":"b6ecac57","originationFeeRate()":"3b817496","repayAndCloseLoan(uint256)":"a27158d7","requiredImprovementRate()":"311f13c6","seizeCollateral(uint256,address)":"ac9cf4db","totalOwed(uint256)":"e926e9af"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.12+commit.f00d7308\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"replacedLoanOwner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interestEarned\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"replacedAmount\",\"type\":\"uint256\"}],\"name\":\"BuyoutLender\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"Close\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"minter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralTokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateralContract\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxInterestRate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"loanAssetContract\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minLoanAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minDurationSeconds\",\"type\":\"uint256\"}],\"name\":\"CreateLoan\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"lender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interestRate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"loanAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"durationSeconds\",\"type\":\"uint256\"}],\"name\":\"Lend\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"repayer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"loanOwner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interestEarned\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"loanAmount\",\"type\":\"uint256\"}],\"name\":\"Repay\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"SeizeCollateral\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"feeRate\",\"type\":\"uint32\"}],\"name\":\"UpdateOriginationFeeRate\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"improvementRate\",\"type\":\"uint256\"}],\"name\":\"UpdateRequiredImprovementRate\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"WithdrawOriginationFees\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"INTEREST_RATE_DECIMALS\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SCALAR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"borrowTicketContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"sendCollateralTo\",\"type\":\"address\"}],\"name\":\"closeLoan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"collateralTokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"collateralContractAddress\",\"type\":\"address\"},{\"internalType\":\"uint16\",\"name\":\"maxPerAnumInterest\",\"type\":\"uint16\"},{\"internalType\":\"uint128\",\"name\":\"minLoanAmount\",\"type\":\"uint128\"},{\"internalType\":\"address\",\"name\":\"loanAssetContractAddress\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"minDurationSeconds\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"mintBorrowTicketTo\",\"type\":\"address\"}],\"name\":\"createLoan\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"interestOwed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"interestRate\",\"type\":\"uint16\"},{\"internalType\":\"uint128\",\"name\":\"amount\",\"type\":\"uint128\"},{\"internalType\":\"uint32\",\"name\":\"durationSeconds\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"sendLendTicketTo\",\"type\":\"address\"}],\"name\":\"lend\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lendTicketContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"loanEndSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"loanInfo\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"closed\",\"type\":\"bool\"},{\"internalType\":\"uint16\",\"name\":\"perAnumInterestRate\",\"type\":\"uint16\"},{\"internalType\":\"uint32\",\"name\":\"durationSeconds\",\"type\":\"uint32\"},{\"internalType\":\"uint40\",\"name\":\"lastAccumulatedTimestamp\",\"type\":\"uint40\"},{\"internalType\":\"address\",\"name\":\"collateralContractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"loanAssetContractAddress\",\"type\":\"address\"},{\"internalType\":\"uint128\",\"name\":\"accumulatedInterest\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"loanAmount\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"collateralTokenId\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"loanInfoStruct\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"closed\",\"type\":\"bool\"},{\"internalType\":\"uint16\",\"name\":\"perAnumInterestRate\",\"type\":\"uint16\"},{\"internalType\":\"uint32\",\"name\":\"durationSeconds\",\"type\":\"uint32\"},{\"internalType\":\"uint40\",\"name\":\"lastAccumulatedTimestamp\",\"type\":\"uint40\"},{\"internalType\":\"address\",\"name\":\"collateralContractAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"loanAssetContractAddress\",\"type\":\"address\"},{\"internalType\":\"uint128\",\"name\":\"accumulatedInterest\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"loanAmount\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"collateralTokenId\",\"type\":\"uint256\"}],\"internalType\":\"struct INFTLoanFacilitator.Loan\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"originationFeeRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"repayAndCloseLoan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"requiredImprovementRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"sendCollateralTo\",\"type\":\"address\"}],\"name\":\"seizeCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"totalOwed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"BuyoutLender(uint256,address,address,uint256,uint256)\":{\"params\":{\"interestEarned\":\"The amount of interest the loan has accrued from first lender to this buyout\",\"lender\":\"msg.sender\",\"replacedAmount\":\"The loan amount prior to buyout\",\"replacedLoanOwner\":\"The current loan ticket holder\"}},\"Close(uint256)\":{\"params\":{\"id\":\"The id of the ticket which has been closed\"}},\"CreateLoan(uint256,address,uint256,address,uint256,address,uint256,uint256)\":{\"params\":{\"collateralContract\":\"The contract address of the collateral NFT\",\"collateralTokenId\":\"The token id of the collateral NFT\",\"id\":\"The id of the new loan, matches the token id of the borrow ticket minted in the same transaction\",\"loanAssetContract\":\"The contract address of the loan asset\",\"maxInterestRate\":\"The max per anum interest rate, scaled by SCALAR\",\"minDurationSeconds\":\"minimum loan duration in seconds\",\"minLoanAmount\":\"mimimum loan amount\",\"minter\":\"msg.sender\"}},\"Lend(uint256,address,uint256,uint256,uint256)\":{\"params\":{\"durationSeconds\":\"The loan duration in seconds \",\"id\":\"The id of the ticket which is being underwritten\",\"interestRate\":\"The per anum interest rate, scaled by SCALAR, for the loan\",\"lender\":\"msg.sender\",\"loanAmount\":\"The loan amount\"}},\"Repay(uint256,address,address,uint256,uint256)\":{\"params\":{\"id\":\"The loan id\",\"interestEarned\":\"The total interest accumulated on the loan\",\"loanAmount\":\"The loan amount\",\"loanOwner\":\"The current holder of the lend ticket for this loan, token id matching the loan id\",\"repayer\":\"msg.sender\"}},\"SeizeCollateral(uint256)\":{\"params\":{\"id\":\"The ticket id\"}},\"UpdateOriginationFeeRate(uint32)\":{\"details\":\"only owner can call, value is scaled by SCALAR, 100% = SCALAR\",\"params\":{\"feeRate\":\"the new origination fee rate\"}},\"UpdateRequiredImprovementRate(uint256)\":{\"details\":\"only owner can call, value is scaled by SCALAR, 100% = SCALAR\",\"params\":{\"improvementRate\":\"the new required improvementRate\"}},\"WithdrawOriginationFees(address,uint256,address)\":{\"details\":\"only owner can call\",\"params\":{\"amount\":\"the amount withdrawn\",\"asset\":\"the ERC20 asset withdrawn\",\"to\":\"the address the withdrawn amount was sent to\"}}},\"kind\":\"dev\",\"methods\":{\"INTEREST_RATE_DECIMALS()\":{\"details\":\"10^INTEREST_RATE_DECIMALS = 1 = 100%\"},\"SCALAR()\":{\"details\":\"Any interest rate passed to a function should already been multiplied by SCALAR\"},\"borrowTicketContract()\":{\"details\":\"Once set, cannot be modified\"},\"closeLoan(uint256,address)\":{\"details\":\"Can only be called by the holder of the Borrow Ticket with tokenId matching the loanId. Can only be called if loan has not be underwritten, i.e. lastAccumulatedInterestTimestamp = 0\",\"params\":{\"loanId\":\"The loan id\",\"sendCollateralTo\":\"The address to send the collateral NFT to\"}},\"createLoan(uint256,address,uint16,uint128,address,uint32,address)\":{\"details\":\"loan duration or loan amount cannot be 0,  this is done to protect borrowers from accidentally passing a default value and also because it creates odd lending and buyout behavior: possible to lend for 0 value or 0 duration, and possible to buyout with no improvement because, for example previousDurationSeconds + (previousDurationSeconds * requiredImprovementRate / SCALAR) <= durationSeconds evaluates to true if previousDurationSeconds is 0 and durationSeconds is 0. loanAssetContractAddress cannot be address(0), we check this because Solmate SafeTransferLib does not revert with address(0) and this could cause odd behavior. collateralContractAddress cannot be address(borrowTicket) or address(lendTicket).\",\"params\":{\"collateralContractAddress\":\"The contract address of the collateral NFT\",\"collateralTokenId\":\"The token id of the collateral NFT \",\"loanAssetContractAddress\":\"The address of the loan asset\",\"maxPerAnumInterest\":\"The maximum per anum interest rate for this loan, scaled by SCALAR\",\"minDurationSeconds\":\"The minimum duration for this loan\",\"minLoanAmount\":\"The minimum acceptable loan amount for this loan\",\"mintBorrowTicketTo\":\"An address to mint the Borrow Ticket corresponding to this loan to\"},\"returns\":{\"id\":\"of the created loan\"}},\"interestOwed(uint256)\":{\"params\":{\"loanId\":\"The loan id\"}},\"lend(uint256,uint16,uint128,uint32,address)\":{\"details\":\"Loan terms must meet or beat loan terms. If a buyout, at least one loan term must be improved by at least 10%. E.g. 10% longer duration, 10% lower interest,  10% higher amount\",\"params\":{\"amount\":\"The loan amount\",\"durationSeconds\":\"The loan duration in seconds\",\"interestRate\":\"The per anum interest rate, scaled by SCALAR\",\"loanId\":\"The loan id\",\"sendLendTicketTo\":\"The address to send the Lend Ticket to\"}},\"lendTicketContract()\":{\"details\":\"Once set, cannot be modified\"},\"loanEndSeconds(uint256)\":{\"params\":{\"loanId\":\"The loan id\"}},\"loanInfo(uint256)\":{\"params\":{\"loanId\":\"The id of the loan\"},\"returns\":{\"accumulatedInterest\":\"The amount of interest accumulated on the loan prior to the current lender\",\"closed\":\"Whether or not the ticket is closed\",\"collateralContractAddress\":\"The contract address of the NFT collateral \",\"collateralTokenId\":\"The token ID of the NFT collateral\",\"durationSeconds\":\"The loan duration in seconds\",\"lastAccumulatedTimestamp\":\"The timestamp (in seconds) when interest was last accumulated,  i.e. the timestamp of the most recent underwriting\",\"loanAmount\":\"The loan amount\",\"loanAssetContractAddress\":\"The contract address of the loan asset.\",\"perAnumInterestRate\":\"The per anum interest rate, scaled by SCALAR\"}},\"loanInfoStruct(uint256)\":{\"details\":\"this is a convenience method for other contracts that would prefer to have the  Loan object not decomposed. \",\"params\":{\"loanId\":\"The id of the loan\"},\"returns\":{\"_0\":\"Loan struct corresponding to loanId\"}},\"originationFeeRate()\":{\"details\":\"Starts set to 1%. Can only be set to 0 - 5%. \"},\"repayAndCloseLoan(uint256)\":{\"params\":{\"loanId\":\"The loan id\"}},\"requiredImprovementRate()\":{\"details\":\"Starts at 100 = 10%. Only owner can set. Cannot be set to 0.\"},\"seizeCollateral(uint256,address)\":{\"details\":\"Can only be called by Lend Ticket holder. Can only be called  if block.timestamp > loanEndSeconds()\",\"params\":{\"loanId\":\"The loan id\",\"sendCollateralTo\":\"The address to send the collateral NFT to\"}},\"totalOwed(uint256)\":{\"params\":{\"loanId\":\"The loan id\"}}},\"version\":1},\"userdoc\":{\"events\":{\"BuyoutLender(uint256,address,address,uint256,uint256)\":{\"notice\":\"Emitted when a loan is being re-underwritten, the current loan ticket holder is being bought out\"},\"Close(uint256)\":{\"notice\":\"Emitted when ticket is closed\"},\"CreateLoan(uint256,address,uint256,address,uint256,address,uint256,uint256)\":{\"notice\":\"Emitted when the loan is created\"},\"Lend(uint256,address,uint256,uint256,uint256)\":{\"notice\":\"Emitted when the loan is underwritten or re-underwritten\"},\"Repay(uint256,address,address,uint256,uint256)\":{\"notice\":\"Emitted when loan is repaid\"},\"SeizeCollateral(uint256)\":{\"notice\":\"Emitted when loan NFT collateral is seized \"},\"UpdateOriginationFeeRate(uint32)\":{\"notice\":\"Emitted when originationFeeRate is updated\"},\"UpdateRequiredImprovementRate(uint256)\":{\"notice\":\"Emitted when requiredImprovementRate is updated\"},\"WithdrawOriginationFees(address,uint256,address)\":{\"notice\":\"Emitted when origination fees are withdrawn\"}},\"kind\":\"user\",\"methods\":{\"INTEREST_RATE_DECIMALS()\":{\"notice\":\"The magnitude of SCALAR\"},\"SCALAR()\":{\"notice\":\"The SCALAR for all percentages in the loan facilitator contract\"},\"borrowTicketContract()\":{\"notice\":\"The borrow ticket contract associated with this loan faciliator\"},\"closeLoan(uint256,address)\":{\"notice\":\"Closes the loan, sends the NFT collateral to sendCollateralTo\"},\"createLoan(uint256,address,uint16,uint128,address,uint32,address)\":{\"notice\":\"(1) transfers the collateral NFT to the loan facilitator contract  (2) creates the loan, populating loanInfo in the facilitator contract, and (3) mints a Borrow Ticket to mintBorrowTicketTo\"},\"interestOwed(uint256)\":{\"notice\":\"returns the interest owed on the loan, in loan asset units\"},\"lend(uint256,uint16,uint128,uint32,address)\":{\"notice\":\"Lends, meeting or beating the proposed loan terms,  transferring `amount` of the loan asset  to the facilitator contract. If the loan has not yet been underwritten,  a Lend Ticket is minted to `sendLendTicketTo`. If the loan has already been  underwritten, then this is a buyout, and the Lend Ticket will be transferred from the current holder to `sendLendTicketTo`. Also in the case of a buyout, interestOwed() is transferred from the caller to the facilitator contract, in addition to `amount`, and totalOwed() is paid to the current Lend Ticket holder.\"},\"lendTicketContract()\":{\"notice\":\"The lend ticket contract associated with this loan faciliator\"},\"loanEndSeconds(uint256)\":{\"notice\":\"returns the unix timestamp (seconds) of the loan end\"},\"loanInfo(uint256)\":{\"notice\":\"returns the info for this loan\"},\"loanInfoStruct(uint256)\":{\"notice\":\"returns the info for this loan\"},\"originationFeeRate()\":{\"notice\":\"The percent of the loan amount that the facilitator will take as a fee, scaled by SCALAR\"},\"repayAndCloseLoan(uint256)\":{\"notice\":\"repays and closes the loan, transferring totalOwed() to the current Lend Ticket holder and transferring the collateral NFT to the Borrow Ticket holder.\"},\"requiredImprovementRate()\":{\"notice\":\"The percent improvement required of at least one loan term when buying out current lender  a loan that already has a lender, scaled by SCALAR.  E.g. setting this value to 100 (10%) means, when replacing a lender, the new loan terms must have at least 10% greater duration or loan amount or at least 10% lower interest rate. \"},\"seizeCollateral(uint256,address)\":{\"notice\":\"Transfers the collateral NFT to `sendCollateralTo` and closes the loan.\"},\"totalOwed(uint256)\":{\"notice\":\"returns the total amount owed for the loan, i.e. principal + interest\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/interfaces/INFTLoanFacilitator.sol\":\"INFTLoanFacilitator\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@ensdomains/=node_modules/@ensdomains/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@rari-capital/=node_modules/@rari-capital/\",\":base64-sol/=node_modules/base64-sol/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"contracts/interfaces/INFTLoanFacilitator.sol\":{\"keccak256\":\"0x238c0f20ff8ecaee89ee6a7ccafc6a1876c72e6d2f4558e371bc22310c9cc1eb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0f89c7d7545d3262f84a9c9895cb479165ecc7b71062d503efa584e09f2c7b28\",\"dweb:/ipfs/QmZAmxjjUdPwT3MhkY36CVfkgyfhphSR14XV7eaQnAsuTr\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.12+commit.f00d7308"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"address","name":"lender","type":"address","indexed":true},{"internalType":"address","name":"replacedLoanOwner","type":"address","indexed":true},{"internalType":"uint256","name":"interestEarned","type":"uint256","indexed":false},{"internalType":"uint256","name":"replacedAmount","type":"uint256","indexed":false}],"type":"event","name":"BuyoutLender","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true}],"type":"event","name":"Close","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"address","name":"minter","type":"address","indexed":true},{"internalType":"uint256","name":"collateralTokenId","type":"uint256","indexed":false},{"internalType":"address","name":"collateralContract","type":"address","indexed":false},{"internalType":"uint256","name":"maxInterestRate","type":"uint256","indexed":false},{"internalType":"address","name":"loanAssetContract","type":"address","indexed":false},{"internalType":"uint256","name":"minLoanAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"minDurationSeconds","type":"uint256","indexed":false}],"type":"event","name":"CreateLoan","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"address","name":"lender","type":"address","indexed":true},{"internalType":"uint256","name":"interestRate","type":"uint256","indexed":false},{"internalType":"uint256","name":"loanAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"durationSeconds","type":"uint256","indexed":false}],"type":"event","name":"Lend","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true},{"internalType":"address","name":"repayer","type":"address","indexed":true},{"internalType":"address","name":"loanOwner","type":"address","indexed":true},{"internalType":"uint256","name":"interestEarned","type":"uint256","indexed":false},{"internalType":"uint256","name":"loanAmount","type":"uint256","indexed":false}],"type":"event","name":"Repay","anonymous":false},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256","indexed":true}],"type":"event","name":"SeizeCollateral","anonymous":false},{"inputs":[{"internalType":"uint32","name":"feeRate","type":"uint32","indexed":false}],"type":"event","name":"UpdateOriginationFeeRate","anonymous":false},{"inputs":[{"internalType":"uint256","name":"improvementRate","type":"uint256","indexed":false}],"type":"event","name":"UpdateRequiredImprovementRate","anonymous":false},{"inputs":[{"internalType":"address","name":"asset","type":"address","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false},{"internalType":"address","name":"to","type":"address","indexed":false}],"type":"event","name":"WithdrawOriginationFees","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"INTEREST_RATE_DECIMALS","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"SCALAR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"borrowTicketContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"},{"internalType":"address","name":"sendCollateralTo","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"closeLoan"},{"inputs":[{"internalType":"uint256","name":"collateralTokenId","type":"uint256"},{"internalType":"address","name":"collateralContractAddress","type":"address"},{"internalType":"uint16","name":"maxPerAnumInterest","type":"uint16"},{"internalType":"uint128","name":"minLoanAmount","type":"uint128"},{"internalType":"address","name":"loanAssetContractAddress","type":"address"},{"internalType":"uint32","name":"minDurationSeconds","type":"uint32"},{"internalType":"address","name":"mintBorrowTicketTo","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"createLoan","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"view","type":"function","name":"interestOwed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"},{"internalType":"uint16","name":"interestRate","type":"uint16"},{"internalType":"uint128","name":"amount","type":"uint128"},{"internalType":"uint32","name":"durationSeconds","type":"uint32"},{"internalType":"address","name":"sendLendTicketTo","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"lend"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"lendTicketContract","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"view","type":"function","name":"loanEndSeconds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"view","type":"function","name":"loanInfo","outputs":[{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"uint16","name":"perAnumInterestRate","type":"uint16"},{"internalType":"uint32","name":"durationSeconds","type":"uint32"},{"internalType":"uint40","name":"lastAccumulatedTimestamp","type":"uint40"},{"internalType":"address","name":"collateralContractAddress","type":"address"},{"internalType":"address","name":"loanAssetContractAddress","type":"address"},{"internalType":"uint128","name":"accumulatedInterest","type":"uint128"},{"internalType":"uint128","name":"loanAmount","type":"uint128"},{"internalType":"uint256","name":"collateralTokenId","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"view","type":"function","name":"loanInfoStruct","outputs":[{"internalType":"struct INFTLoanFacilitator.Loan","name":"","type":"tuple","components":[{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"uint16","name":"perAnumInterestRate","type":"uint16"},{"internalType":"uint32","name":"durationSeconds","type":"uint32"},{"internalType":"uint40","name":"lastAccumulatedTimestamp","type":"uint40"},{"internalType":"address","name":"collateralContractAddress","type":"address"},{"internalType":"address","name":"loanAssetContractAddress","type":"address"},{"internalType":"uint128","name":"accumulatedInterest","type":"uint128"},{"internalType":"uint128","name":"loanAmount","type":"uint128"},{"internalType":"uint256","name":"collateralTokenId","type":"uint256"}]}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"originationFeeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"repayAndCloseLoan"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"requiredImprovementRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"},{"internalType":"address","name":"sendCollateralTo","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"seizeCollateral"},{"inputs":[{"internalType":"uint256","name":"loanId","type":"uint256"}],"stateMutability":"view","type":"function","name":"totalOwed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"INTEREST_RATE_DECIMALS()":{"details":"10^INTEREST_RATE_DECIMALS = 1 = 100%"},"SCALAR()":{"details":"Any interest rate passed to a function should already been multiplied by SCALAR"},"borrowTicketContract()":{"details":"Once set, cannot be modified"},"closeLoan(uint256,address)":{"details":"Can only be called by the holder of the Borrow Ticket with tokenId matching the loanId. Can only be called if loan has not be underwritten, i.e. lastAccumulatedInterestTimestamp = 0","params":{"loanId":"The loan id","sendCollateralTo":"The address to send the collateral NFT to"}},"createLoan(uint256,address,uint16,uint128,address,uint32,address)":{"details":"loan duration or loan amount cannot be 0,  this is done to protect borrowers from accidentally passing a default value and also because it creates odd lending and buyout behavior: possible to lend for 0 value or 0 duration, and possible to buyout with no improvement because, for example previousDurationSeconds + (previousDurationSeconds * requiredImprovementRate / SCALAR) <= durationSeconds evaluates to true if previousDurationSeconds is 0 and durationSeconds is 0. loanAssetContractAddress cannot be address(0), we check this because Solmate SafeTransferLib does not revert with address(0) and this could cause odd behavior. collateralContractAddress cannot be address(borrowTicket) or address(lendTicket).","params":{"collateralContractAddress":"The contract address of the collateral NFT","collateralTokenId":"The token id of the collateral NFT ","loanAssetContractAddress":"The address of the loan asset","maxPerAnumInterest":"The maximum per anum interest rate for this loan, scaled by SCALAR","minDurationSeconds":"The minimum duration for this loan","minLoanAmount":"The minimum acceptable loan amount for this loan","mintBorrowTicketTo":"An address to mint the Borrow Ticket corresponding to this loan to"},"returns":{"id":"of the created loan"}},"interestOwed(uint256)":{"params":{"loanId":"The loan id"}},"lend(uint256,uint16,uint128,uint32,address)":{"details":"Loan terms must meet or beat loan terms. If a buyout, at least one loan term must be improved by at least 10%. E.g. 10% longer duration, 10% lower interest,  10% higher amount","params":{"amount":"The loan amount","durationSeconds":"The loan duration in seconds","interestRate":"The per anum interest rate, scaled by SCALAR","loanId":"The loan id","sendLendTicketTo":"The address to send the Lend Ticket to"}},"lendTicketContract()":{"details":"Once set, cannot be modified"},"loanEndSeconds(uint256)":{"params":{"loanId":"The loan id"}},"loanInfo(uint256)":{"params":{"loanId":"The id of the loan"},"returns":{"accumulatedInterest":"The amount of interest accumulated on the loan prior to the current lender","closed":"Whether or not the ticket is closed","collateralContractAddress":"The contract address of the NFT collateral ","collateralTokenId":"The token ID of the NFT collateral","durationSeconds":"The loan duration in seconds","lastAccumulatedTimestamp":"The timestamp (in seconds) when interest was last accumulated,  i.e. the timestamp of the most recent underwriting","loanAmount":"The loan amount","loanAssetContractAddress":"The contract address of the loan asset.","perAnumInterestRate":"The per anum interest rate, scaled by SCALAR"}},"loanInfoStruct(uint256)":{"details":"this is a convenience method for other contracts that would prefer to have the  Loan object not decomposed. ","params":{"loanId":"The id of the loan"},"returns":{"_0":"Loan struct corresponding to loanId"}},"originationFeeRate()":{"details":"Starts set to 1%. Can only be set to 0 - 5%. "},"repayAndCloseLoan(uint256)":{"params":{"loanId":"The loan id"}},"requiredImprovementRate()":{"details":"Starts at 100 = 10%. Only owner can set. Cannot be set to 0."},"seizeCollateral(uint256,address)":{"details":"Can only be called by Lend Ticket holder. Can only be called  if block.timestamp > loanEndSeconds()","params":{"loanId":"The loan id","sendCollateralTo":"The address to send the collateral NFT to"}},"totalOwed(uint256)":{"params":{"loanId":"The loan id"}}},"version":1},"userdoc":{"kind":"user","methods":{"INTEREST_RATE_DECIMALS()":{"notice":"The magnitude of SCALAR"},"SCALAR()":{"notice":"The SCALAR for all percentages in the loan facilitator contract"},"borrowTicketContract()":{"notice":"The borrow ticket contract associated with this loan faciliator"},"closeLoan(uint256,address)":{"notice":"Closes the loan, sends the NFT collateral to sendCollateralTo"},"createLoan(uint256,address,uint16,uint128,address,uint32,address)":{"notice":"(1) transfers the collateral NFT to the loan facilitator contract  (2) creates the loan, populating loanInfo in the facilitator contract, and (3) mints a Borrow Ticket to mintBorrowTicketTo"},"interestOwed(uint256)":{"notice":"returns the interest owed on the loan, in loan asset units"},"lend(uint256,uint16,uint128,uint32,address)":{"notice":"Lends, meeting or beating the proposed loan terms,  transferring `amount` of the loan asset  to the facilitator contract. If the loan has not yet been underwritten,  a Lend Ticket is minted to `sendLendTicketTo`. If the loan has already been  underwritten, then this is a buyout, and the Lend Ticket will be transferred from the current holder to `sendLendTicketTo`. Also in the case of a buyout, interestOwed() is transferred from the caller to the facilitator contract, in addition to `amount`, and totalOwed() is paid to the current Lend Ticket holder."},"lendTicketContract()":{"notice":"The lend ticket contract associated with this loan faciliator"},"loanEndSeconds(uint256)":{"notice":"returns the unix timestamp (seconds) of the loan end"},"loanInfo(uint256)":{"notice":"returns the info for this loan"},"loanInfoStruct(uint256)":{"notice":"returns the info for this loan"},"originationFeeRate()":{"notice":"The percent of the loan amount that the facilitator will take as a fee, scaled by SCALAR"},"repayAndCloseLoan(uint256)":{"notice":"repays and closes the loan, transferring totalOwed() to the current Lend Ticket holder and transferring the collateral NFT to the Borrow Ticket holder."},"requiredImprovementRate()":{"notice":"The percent improvement required of at least one loan term when buying out current lender  a loan that already has a lender, scaled by SCALAR.  E.g. setting this value to 100 (10%) means, when replacing a lender, the new loan terms must have at least 10% greater duration or loan amount or at least 10% lower interest rate. "},"seizeCollateral(uint256,address)":{"notice":"Transfers the collateral NFT to `sendCollateralTo` and closes the loan."},"totalOwed(uint256)":{"notice":"returns the total amount owed for the loan, i.e. principal + interest"}},"version":1}},"settings":{"remappings":["@ensdomains/=node_modules/@ensdomains/","@openzeppelin/=node_modules/@openzeppelin/","@rari-capital/=node_modules/@rari-capital/","base64-sol/=node_modules/base64-sol/","eth-gas-reporter/=node_modules/eth-gas-reporter/","hardhat/=node_modules/hardhat/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/interfaces/INFTLoanFacilitator.sol":"INFTLoanFacilitator"},"evmVersion":"london","libraries":{}},"sources":{"contracts/interfaces/INFTLoanFacilitator.sol":{"keccak256":"0x238c0f20ff8ecaee89ee6a7ccafc6a1876c72e6d2f4558e371bc22310c9cc1eb","urls":["bzz-raw://0f89c7d7545d3262f84a9c9895cb479165ecc7b71062d503efa584e09f2c7b28","dweb:/ipfs/QmZAmxjjUdPwT3MhkY36CVfkgyfhphSR14XV7eaQnAsuTr"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/interfaces/INFTLoanFacilitator.sol","id":5000,"exportedSymbols":{"INFTLoanFacilitator":[4999]},"nodeType":"SourceUnit","src":"32:12493:18","nodes":[{"id":4743,"nodeType":"PragmaDirective","src":"32:23:18","nodes":[],"literals":["solidity","0.8",".12"]},{"id":4999,"nodeType":"ContractDefinition","src":"57:12468:18","nodes":[{"id":4762,"nodeType":"StructDefinition","src":"122:334:18","nodes":[],"canonicalName":"INFTLoanFacilitator.Loan","members":[{"constant":false,"id":4745,"mutability":"mutable","name":"closed","nameLocation":"149:6:18","nodeType":"VariableDeclaration","scope":4762,"src":"144:11:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":4744,"name":"bool","nodeType":"ElementaryTypeName","src":"144:4:18","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":4747,"mutability":"mutable","name":"perAnumInterestRate","nameLocation":"172:19:18","nodeType":"VariableDeclaration","scope":4762,"src":"165:26:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":4746,"name":"uint16","nodeType":"ElementaryTypeName","src":"165:6:18","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":4749,"mutability":"mutable","name":"durationSeconds","nameLocation":"208:15:18","nodeType":"VariableDeclaration","scope":4762,"src":"201:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":4748,"name":"uint32","nodeType":"ElementaryTypeName","src":"201:6:18","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":4751,"mutability":"mutable","name":"lastAccumulatedTimestamp","nameLocation":"240:24:18","nodeType":"VariableDeclaration","scope":4762,"src":"233:31:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":4750,"name":"uint40","nodeType":"ElementaryTypeName","src":"233:6:18","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"},{"constant":false,"id":4753,"mutability":"mutable","name":"collateralContractAddress","nameLocation":"282:25:18","nodeType":"VariableDeclaration","scope":4762,"src":"274:33:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4752,"name":"address","nodeType":"ElementaryTypeName","src":"274:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4755,"mutability":"mutable","name":"loanAssetContractAddress","nameLocation":"325:24:18","nodeType":"VariableDeclaration","scope":4762,"src":"317:32:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4754,"name":"address","nodeType":"ElementaryTypeName","src":"317:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4757,"mutability":"mutable","name":"accumulatedInterest","nameLocation":"367:19:18","nodeType":"VariableDeclaration","scope":4762,"src":"359:27:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4756,"name":"uint128","nodeType":"ElementaryTypeName","src":"359:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4759,"mutability":"mutable","name":"loanAmount","nameLocation":"404:10:18","nodeType":"VariableDeclaration","scope":4762,"src":"396:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4758,"name":"uint128","nodeType":"ElementaryTypeName","src":"396:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4761,"mutability":"mutable","name":"collateralTokenId","nameLocation":"432:17:18","nodeType":"VariableDeclaration","scope":4762,"src":"424:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4760,"name":"uint256","nodeType":"ElementaryTypeName","src":"424:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Loan","nameLocation":"129:4:18","scope":4999,"visibility":"public"},{"id":4768,"nodeType":"FunctionDefinition","src":"566:59:18","nodes":[],"documentation":{"id":4763,"nodeType":"StructuredDocumentation","src":"462:99:18","text":" @notice The magnitude of SCALAR\n @dev 10^INTEREST_RATE_DECIMALS = 1 = 100%"},"functionSelector":"66234ffa","implemented":false,"kind":"function","modifiers":[],"name":"INTEREST_RATE_DECIMALS","nameLocation":"575:22:18","parameters":{"id":4764,"nodeType":"ParameterList","parameters":[],"src":"597:2:18"},"returnParameters":{"id":4767,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4766,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4768,"src":"618:5:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":4765,"name":"uint8","nodeType":"ElementaryTypeName","src":"618:5:18","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"617:7:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4774,"nodeType":"FunctionDefinition","src":"818:45:18","nodes":[],"documentation":{"id":4769,"nodeType":"StructuredDocumentation","src":"631:182:18","text":" @notice The SCALAR for all percentages in the loan facilitator contract\n @dev Any interest rate passed to a function should already been multiplied by SCALAR"},"functionSelector":"6bf301a4","implemented":false,"kind":"function","modifiers":[],"name":"SCALAR","nameLocation":"827:6:18","parameters":{"id":4770,"nodeType":"ParameterList","parameters":[],"src":"833:2:18"},"returnParameters":{"id":4773,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4772,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4774,"src":"854:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4771,"name":"uint256","nodeType":"ElementaryTypeName","src":"854:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"853:9:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4780,"nodeType":"FunctionDefinition","src":"1047:57:18","nodes":[],"documentation":{"id":4775,"nodeType":"StructuredDocumentation","src":"869:173:18","text":" @notice The percent of the loan amount that the facilitator will take as a fee, scaled by SCALAR\n @dev Starts set to 1%. Can only be set to 0 - 5%. "},"functionSelector":"3b817496","implemented":false,"kind":"function","modifiers":[],"name":"originationFeeRate","nameLocation":"1056:18:18","parameters":{"id":4776,"nodeType":"ParameterList","parameters":[],"src":"1074:2:18"},"returnParameters":{"id":4779,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4778,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4780,"src":"1095:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4777,"name":"uint256","nodeType":"ElementaryTypeName","src":"1095:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1094:9:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4786,"nodeType":"FunctionDefinition","src":"1244:57:18","nodes":[],"documentation":{"id":4781,"nodeType":"StructuredDocumentation","src":"1110:129:18","text":" @notice The lend ticket contract associated with this loan faciliator\n @dev Once set, cannot be modified"},"functionSelector":"67cec5a3","implemented":false,"kind":"function","modifiers":[],"name":"lendTicketContract","nameLocation":"1253:18:18","parameters":{"id":4782,"nodeType":"ParameterList","parameters":[],"src":"1271:2:18"},"returnParameters":{"id":4785,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4784,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4786,"src":"1292:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4783,"name":"address","nodeType":"ElementaryTypeName","src":"1292:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1291:9:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4792,"nodeType":"FunctionDefinition","src":"1443:59:18","nodes":[],"documentation":{"id":4787,"nodeType":"StructuredDocumentation","src":"1307:131:18","text":" @notice The borrow ticket contract associated with this loan faciliator\n @dev Once set, cannot be modified"},"functionSelector":"7af26c1f","implemented":false,"kind":"function","modifiers":[],"name":"borrowTicketContract","nameLocation":"1452:20:18","parameters":{"id":4788,"nodeType":"ParameterList","parameters":[],"src":"1472:2:18"},"returnParameters":{"id":4791,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4790,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4792,"src":"1493:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4789,"name":"address","nodeType":"ElementaryTypeName","src":"1493:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1492:9:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4798,"nodeType":"FunctionDefinition","src":"1958:62:18","nodes":[],"documentation":{"id":4793,"nodeType":"StructuredDocumentation","src":"1508:445:18","text":" @notice The percent improvement required of at least one loan term when buying out current lender \n a loan that already has a lender, scaled by SCALAR. \n E.g. setting this value to 100 (10%) means, when replacing a lender, the new loan terms must have\n at least 10% greater duration or loan amount or at least 10% lower interest rate. \n @dev Starts at 100 = 10%. Only owner can set. Cannot be set to 0."},"functionSelector":"311f13c6","implemented":false,"kind":"function","modifiers":[],"name":"requiredImprovementRate","nameLocation":"1967:23:18","parameters":{"id":4794,"nodeType":"ParameterList","parameters":[],"src":"1990:2:18"},"returnParameters":{"id":4797,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4796,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4798,"src":"2011:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4795,"name":"uint256","nodeType":"ElementaryTypeName","src":"2011:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2010:9:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4817,"nodeType":"EventDefinition","src":"2646:293:18","nodes":[],"anonymous":false,"documentation":{"id":4799,"nodeType":"StructuredDocumentation","src":"2030:611:18","text":" @notice Emitted when the loan is created\n @param id The id of the new loan, matches the token id of the borrow ticket minted in the same transaction\n @param minter msg.sender\n @param collateralTokenId The token id of the collateral NFT\n @param collateralContract The contract address of the collateral NFT\n @param maxInterestRate The max per anum interest rate, scaled by SCALAR\n @param loanAssetContract The contract address of the loan asset\n @param minLoanAmount mimimum loan amount\n @param minDurationSeconds minimum loan duration in seconds"},"name":"CreateLoan","nameLocation":"2652:10:18","parameters":{"id":4816,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4801,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"2688:2:18","nodeType":"VariableDeclaration","scope":4817,"src":"2672:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4800,"name":"uint256","nodeType":"ElementaryTypeName","src":"2672:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4803,"indexed":true,"mutability":"mutable","name":"minter","nameLocation":"2716:6:18","nodeType":"VariableDeclaration","scope":4817,"src":"2700:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4802,"name":"address","nodeType":"ElementaryTypeName","src":"2700:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4805,"indexed":false,"mutability":"mutable","name":"collateralTokenId","nameLocation":"2740:17:18","nodeType":"VariableDeclaration","scope":4817,"src":"2732:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4804,"name":"uint256","nodeType":"ElementaryTypeName","src":"2732:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4807,"indexed":false,"mutability":"mutable","name":"collateralContract","nameLocation":"2775:18:18","nodeType":"VariableDeclaration","scope":4817,"src":"2767:26:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4806,"name":"address","nodeType":"ElementaryTypeName","src":"2767:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4809,"indexed":false,"mutability":"mutable","name":"maxInterestRate","nameLocation":"2811:15:18","nodeType":"VariableDeclaration","scope":4817,"src":"2803:23:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4808,"name":"uint256","nodeType":"ElementaryTypeName","src":"2803:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4811,"indexed":false,"mutability":"mutable","name":"loanAssetContract","nameLocation":"2844:17:18","nodeType":"VariableDeclaration","scope":4817,"src":"2836:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4810,"name":"address","nodeType":"ElementaryTypeName","src":"2836:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4813,"indexed":false,"mutability":"mutable","name":"minLoanAmount","nameLocation":"2879:13:18","nodeType":"VariableDeclaration","scope":4817,"src":"2871:21:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4812,"name":"uint256","nodeType":"ElementaryTypeName","src":"2871:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4815,"indexed":false,"mutability":"mutable","name":"minDurationSeconds","nameLocation":"2910:18:18","nodeType":"VariableDeclaration","scope":4817,"src":"2902:26:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4814,"name":"uint256","nodeType":"ElementaryTypeName","src":"2902:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2662:276:18"}},{"id":4822,"nodeType":"EventDefinition","src":"3067:32:18","nodes":[],"anonymous":false,"documentation":{"id":4818,"nodeType":"StructuredDocumentation","src":"2945:117:18","text":" @notice Emitted when ticket is closed\n @param id The id of the ticket which has been closed"},"name":"Close","nameLocation":"3073:5:18","parameters":{"id":4821,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4820,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"3095:2:18","nodeType":"VariableDeclaration","scope":4822,"src":"3079:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4819,"name":"uint256","nodeType":"ElementaryTypeName","src":"3079:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3078:20:18"}},{"id":4835,"nodeType":"EventDefinition","src":"3479:168:18","nodes":[],"anonymous":false,"documentation":{"id":4823,"nodeType":"StructuredDocumentation","src":"3105:369:18","text":" @notice Emitted when the loan is underwritten or re-underwritten\n @param id The id of the ticket which is being underwritten\n @param lender msg.sender\n @param interestRate The per anum interest rate, scaled by SCALAR, for the loan\n @param loanAmount The loan amount\n @param durationSeconds The loan duration in seconds "},"name":"Lend","nameLocation":"3485:4:18","parameters":{"id":4834,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4825,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"3515:2:18","nodeType":"VariableDeclaration","scope":4835,"src":"3499:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4824,"name":"uint256","nodeType":"ElementaryTypeName","src":"3499:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4827,"indexed":true,"mutability":"mutable","name":"lender","nameLocation":"3543:6:18","nodeType":"VariableDeclaration","scope":4835,"src":"3527:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4826,"name":"address","nodeType":"ElementaryTypeName","src":"3527:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4829,"indexed":false,"mutability":"mutable","name":"interestRate","nameLocation":"3567:12:18","nodeType":"VariableDeclaration","scope":4835,"src":"3559:20:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4828,"name":"uint256","nodeType":"ElementaryTypeName","src":"3559:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4831,"indexed":false,"mutability":"mutable","name":"loanAmount","nameLocation":"3597:10:18","nodeType":"VariableDeclaration","scope":4835,"src":"3589:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4830,"name":"uint256","nodeType":"ElementaryTypeName","src":"3589:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4833,"indexed":false,"mutability":"mutable","name":"durationSeconds","nameLocation":"3625:15:18","nodeType":"VariableDeclaration","scope":4835,"src":"3617:23:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4832,"name":"uint256","nodeType":"ElementaryTypeName","src":"3617:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3489:157:18"}},{"id":4848,"nodeType":"EventDefinition","src":"4047:192:18","nodes":[],"anonymous":false,"documentation":{"id":4836,"nodeType":"StructuredDocumentation","src":"3653:385:18","text":" @notice Emitted when a loan is being re-underwritten, the current loan ticket holder is being bought out\n @param lender msg.sender\n @param replacedLoanOwner The current loan ticket holder\n @param interestEarned The amount of interest the loan has accrued from first lender to this buyout\n @param replacedAmount The loan amount prior to buyout"},"name":"BuyoutLender","nameLocation":"4053:12:18","parameters":{"id":4847,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4838,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"4091:2:18","nodeType":"VariableDeclaration","scope":4848,"src":"4075:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4837,"name":"uint256","nodeType":"ElementaryTypeName","src":"4075:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4840,"indexed":true,"mutability":"mutable","name":"lender","nameLocation":"4119:6:18","nodeType":"VariableDeclaration","scope":4848,"src":"4103:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4839,"name":"address","nodeType":"ElementaryTypeName","src":"4103:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4842,"indexed":true,"mutability":"mutable","name":"replacedLoanOwner","nameLocation":"4151:17:18","nodeType":"VariableDeclaration","scope":4848,"src":"4135:33:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4841,"name":"address","nodeType":"ElementaryTypeName","src":"4135:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4844,"indexed":false,"mutability":"mutable","name":"interestEarned","nameLocation":"4186:14:18","nodeType":"VariableDeclaration","scope":4848,"src":"4178:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4843,"name":"uint256","nodeType":"ElementaryTypeName","src":"4178:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4846,"indexed":false,"mutability":"mutable","name":"replacedAmount","nameLocation":"4218:14:18","nodeType":"VariableDeclaration","scope":4848,"src":"4210:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4845,"name":"uint256","nodeType":"ElementaryTypeName","src":"4210:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4065:173:18"}},{"id":4861,"nodeType":"EventDefinition","src":"4590:174:18","nodes":[],"anonymous":false,"documentation":{"id":4849,"nodeType":"StructuredDocumentation","src":"4249:336:18","text":" @notice Emitted when loan is repaid\n @param id The loan id\n @param repayer msg.sender\n @param loanOwner The current holder of the lend ticket for this loan, token id matching the loan id\n @param interestEarned The total interest accumulated on the loan\n @param loanAmount The loan amount"},"name":"Repay","nameLocation":"4596:5:18","parameters":{"id":4860,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4851,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"4627:2:18","nodeType":"VariableDeclaration","scope":4861,"src":"4611:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4850,"name":"uint256","nodeType":"ElementaryTypeName","src":"4611:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4853,"indexed":true,"mutability":"mutable","name":"repayer","nameLocation":"4655:7:18","nodeType":"VariableDeclaration","scope":4861,"src":"4639:23:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4852,"name":"address","nodeType":"ElementaryTypeName","src":"4639:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4855,"indexed":true,"mutability":"mutable","name":"loanOwner","nameLocation":"4688:9:18","nodeType":"VariableDeclaration","scope":4861,"src":"4672:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4854,"name":"address","nodeType":"ElementaryTypeName","src":"4672:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4857,"indexed":false,"mutability":"mutable","name":"interestEarned","nameLocation":"4715:14:18","nodeType":"VariableDeclaration","scope":4861,"src":"4707:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4856,"name":"uint256","nodeType":"ElementaryTypeName","src":"4707:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4859,"indexed":false,"mutability":"mutable","name":"loanAmount","nameLocation":"4747:10:18","nodeType":"VariableDeclaration","scope":4861,"src":"4739:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4858,"name":"uint256","nodeType":"ElementaryTypeName","src":"4739:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4601:162:18"}},{"id":4866,"nodeType":"EventDefinition","src":"4876:42:18","nodes":[],"anonymous":false,"documentation":{"id":4862,"nodeType":"StructuredDocumentation","src":"4770:101:18","text":" @notice Emitted when loan NFT collateral is seized \n @param id The ticket id"},"name":"SeizeCollateral","nameLocation":"4882:15:18","parameters":{"id":4865,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4864,"indexed":true,"mutability":"mutable","name":"id","nameLocation":"4914:2:18","nodeType":"VariableDeclaration","scope":4866,"src":"4898:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4863,"name":"uint256","nodeType":"ElementaryTypeName","src":"4898:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4897:20:18"}},{"id":4875,"nodeType":"EventDefinition","src":"5189:73:18","nodes":[],"anonymous":false,"documentation":{"id":4867,"nodeType":"StructuredDocumentation","src":"4925:258:18","text":" @notice Emitted when origination fees are withdrawn\n @dev only owner can call\n @param asset the ERC20 asset withdrawn\n @param amount the amount withdrawn\n @param to the address the withdrawn amount was sent to"},"name":"WithdrawOriginationFees","nameLocation":"5195:23:18","parameters":{"id":4874,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4869,"indexed":false,"mutability":"mutable","name":"asset","nameLocation":"5227:5:18","nodeType":"VariableDeclaration","scope":4875,"src":"5219:13:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4868,"name":"address","nodeType":"ElementaryTypeName","src":"5219:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4871,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"5242:6:18","nodeType":"VariableDeclaration","scope":4875,"src":"5234:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4870,"name":"uint256","nodeType":"ElementaryTypeName","src":"5234:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4873,"indexed":false,"mutability":"mutable","name":"to","nameLocation":"5258:2:18","nodeType":"VariableDeclaration","scope":4875,"src":"5250:10:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4872,"name":"address","nodeType":"ElementaryTypeName","src":"5250:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5218:43:18"}},{"id":4880,"nodeType":"EventDefinition","src":"5474:47:18","nodes":[],"anonymous":false,"documentation":{"id":4876,"nodeType":"StructuredDocumentation","src":"5270:198:18","text":" @notice Emitted when originationFeeRate is updated\n @dev only owner can call, value is scaled by SCALAR, 100% = SCALAR\n @param feeRate the new origination fee rate"},"name":"UpdateOriginationFeeRate","nameLocation":"5480:24:18","parameters":{"id":4879,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4878,"indexed":false,"mutability":"mutable","name":"feeRate","nameLocation":"5512:7:18","nodeType":"VariableDeclaration","scope":4880,"src":"5505:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":4877,"name":"uint32","nodeType":"ElementaryTypeName","src":"5505:6:18","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"5504:16:18"}},{"id":4885,"nodeType":"EventDefinition","src":"5749:61:18","nodes":[],"anonymous":false,"documentation":{"id":4881,"nodeType":"StructuredDocumentation","src":"5528:215:18","text":" @notice Emitted when requiredImprovementRate is updated\n @dev only owner can call, value is scaled by SCALAR, 100% = SCALAR\n @param improvementRate the new required improvementRate"},"name":"UpdateRequiredImprovementRate","nameLocation":"5755:29:18","parameters":{"id":4884,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4883,"indexed":false,"mutability":"mutable","name":"improvementRate","nameLocation":"5793:15:18","nodeType":"VariableDeclaration","scope":4885,"src":"5785:23:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4882,"name":"uint256","nodeType":"ElementaryTypeName","src":"5785:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5784:25:18"}},{"id":4905,"nodeType":"FunctionDefinition","src":"7434:341:18","nodes":[],"documentation":{"id":4886,"nodeType":"StructuredDocumentation","src":"5816:1613:18","text":" @notice (1) transfers the collateral NFT to the loan facilitator contract \n (2) creates the loan, populating loanInfo in the facilitator contract,\n and (3) mints a Borrow Ticket to mintBorrowTicketTo\n @dev loan duration or loan amount cannot be 0, \n this is done to protect borrowers from accidentally passing a default value\n and also because it creates odd lending and buyout behavior: possible to lend\n for 0 value or 0 duration, and possible to buyout with no improvement because, for example\n previousDurationSeconds + (previousDurationSeconds * requiredImprovementRate / SCALAR) <= durationSeconds\n evaluates to true if previousDurationSeconds is 0 and durationSeconds is 0.\n loanAssetContractAddress cannot be address(0), we check this because Solmate SafeTransferLib\n does not revert with address(0) and this could cause odd behavior.\n collateralContractAddress cannot be address(borrowTicket) or address(lendTicket).\n @param collateralTokenId The token id of the collateral NFT \n @param collateralContractAddress The contract address of the collateral NFT\n @param maxPerAnumInterest The maximum per anum interest rate for this loan, scaled by SCALAR\n @param minLoanAmount The minimum acceptable loan amount for this loan\n @param loanAssetContractAddress The address of the loan asset\n @param minDurationSeconds The minimum duration for this loan\n @param mintBorrowTicketTo An address to mint the Borrow Ticket corresponding to this loan to\n @return id of the created loan"},"functionSelector":"fc9445c5","implemented":false,"kind":"function","modifiers":[],"name":"createLoan","nameLocation":"7443:10:18","parameters":{"id":4901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4888,"mutability":"mutable","name":"collateralTokenId","nameLocation":"7475:17:18","nodeType":"VariableDeclaration","scope":4905,"src":"7467:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4887,"name":"uint256","nodeType":"ElementaryTypeName","src":"7467:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4890,"mutability":"mutable","name":"collateralContractAddress","nameLocation":"7514:25:18","nodeType":"VariableDeclaration","scope":4905,"src":"7506:33:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4889,"name":"address","nodeType":"ElementaryTypeName","src":"7506:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4892,"mutability":"mutable","name":"maxPerAnumInterest","nameLocation":"7560:18:18","nodeType":"VariableDeclaration","scope":4905,"src":"7553:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":4891,"name":"uint16","nodeType":"ElementaryTypeName","src":"7553:6:18","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":4894,"mutability":"mutable","name":"minLoanAmount","nameLocation":"7600:13:18","nodeType":"VariableDeclaration","scope":4905,"src":"7592:21:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4893,"name":"uint128","nodeType":"ElementaryTypeName","src":"7592:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4896,"mutability":"mutable","name":"loanAssetContractAddress","nameLocation":"7635:24:18","nodeType":"VariableDeclaration","scope":4905,"src":"7627:32:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4895,"name":"address","nodeType":"ElementaryTypeName","src":"7627:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4898,"mutability":"mutable","name":"minDurationSeconds","nameLocation":"7680:18:18","nodeType":"VariableDeclaration","scope":4905,"src":"7673:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":4897,"name":"uint32","nodeType":"ElementaryTypeName","src":"7673:6:18","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":4900,"mutability":"mutable","name":"mintBorrowTicketTo","nameLocation":"7720:18:18","nodeType":"VariableDeclaration","scope":4905,"src":"7712:26:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4899,"name":"address","nodeType":"ElementaryTypeName","src":"7712:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7453:291:18"},"returnParameters":{"id":4904,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4903,"mutability":"mutable","name":"id","nameLocation":"7771:2:18","nodeType":"VariableDeclaration","scope":4905,"src":"7763:10:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4902,"name":"uint256","nodeType":"ElementaryTypeName","src":"7763:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7762:12:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4913,"nodeType":"FunctionDefinition","src":"8188:70:18","nodes":[],"documentation":{"id":4906,"nodeType":"StructuredDocumentation","src":"7781:402:18","text":" @notice Closes the loan, sends the NFT collateral to sendCollateralTo\n @dev Can only be called by the holder of the Borrow Ticket with tokenId\n matching the loanId. Can only be called if loan has not be underwritten,\n i.e. lastAccumulatedInterestTimestamp = 0\n @param loanId The loan id\n @param sendCollateralTo The address to send the collateral NFT to"},"functionSelector":"7e8400b2","implemented":false,"kind":"function","modifiers":[],"name":"closeLoan","nameLocation":"8197:9:18","parameters":{"id":4911,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4908,"mutability":"mutable","name":"loanId","nameLocation":"8215:6:18","nodeType":"VariableDeclaration","scope":4913,"src":"8207:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4907,"name":"uint256","nodeType":"ElementaryTypeName","src":"8207:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4910,"mutability":"mutable","name":"sendCollateralTo","nameLocation":"8231:16:18","nodeType":"VariableDeclaration","scope":4913,"src":"8223:24:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4909,"name":"address","nodeType":"ElementaryTypeName","src":"8223:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8206:42:18"},"returnParameters":{"id":4912,"nodeType":"ParameterList","parameters":[],"src":"8257:0:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4927,"nodeType":"FunctionDefinition","src":"9373:192:18","nodes":[],"documentation":{"id":4914,"nodeType":"StructuredDocumentation","src":"8264:1104:18","text":" @notice Lends, meeting or beating the proposed loan terms, \n transferring `amount` of the loan asset \n to the facilitator contract. If the loan has not yet been underwritten, \n a Lend Ticket is minted to `sendLendTicketTo`. If the loan has already been \n underwritten, then this is a buyout, and the Lend Ticket will be transferred\n from the current holder to `sendLendTicketTo`. Also in the case of a buyout, interestOwed()\n is transferred from the caller to the facilitator contract, in addition to `amount`, and\n totalOwed() is paid to the current Lend Ticket holder.\n @dev Loan terms must meet or beat loan terms. If a buyout, at least one loan term\n must be improved by at least 10%. E.g. 10% longer duration, 10% lower interest, \n 10% higher amount\n @param loanId The loan id\n @param interestRate The per anum interest rate, scaled by SCALAR\n @param amount The loan amount\n @param durationSeconds The loan duration in seconds\n @param sendLendTicketTo The address to send the Lend Ticket to"},"functionSelector":"b8efff83","implemented":false,"kind":"function","modifiers":[],"name":"lend","nameLocation":"9382:4:18","parameters":{"id":4925,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4916,"mutability":"mutable","name":"loanId","nameLocation":"9408:6:18","nodeType":"VariableDeclaration","scope":4927,"src":"9400:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4915,"name":"uint256","nodeType":"ElementaryTypeName","src":"9400:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4918,"mutability":"mutable","name":"interestRate","nameLocation":"9435:12:18","nodeType":"VariableDeclaration","scope":4927,"src":"9428:19:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":4917,"name":"uint16","nodeType":"ElementaryTypeName","src":"9428:6:18","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":4920,"mutability":"mutable","name":"amount","nameLocation":"9469:6:18","nodeType":"VariableDeclaration","scope":4927,"src":"9461:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4919,"name":"uint128","nodeType":"ElementaryTypeName","src":"9461:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4922,"mutability":"mutable","name":"durationSeconds","nameLocation":"9496:15:18","nodeType":"VariableDeclaration","scope":4927,"src":"9489:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":4921,"name":"uint32","nodeType":"ElementaryTypeName","src":"9489:6:18","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":4924,"mutability":"mutable","name":"sendLendTicketTo","nameLocation":"9533:16:18","nodeType":"VariableDeclaration","scope":4927,"src":"9525:24:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4923,"name":"address","nodeType":"ElementaryTypeName","src":"9525:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"9386:169:18"},"returnParameters":{"id":4926,"nodeType":"ParameterList","parameters":[],"src":"9564:0:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4933,"nodeType":"FunctionDefinition","src":"9794:52:18","nodes":[],"documentation":{"id":4928,"nodeType":"StructuredDocumentation","src":"9571:218:18","text":" @notice repays and closes the loan, transferring totalOwed() to the current Lend Ticket holder\n and transferring the collateral NFT to the Borrow Ticket holder.\n @param loanId The loan id"},"functionSelector":"a27158d7","implemented":false,"kind":"function","modifiers":[],"name":"repayAndCloseLoan","nameLocation":"9803:17:18","parameters":{"id":4931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4930,"mutability":"mutable","name":"loanId","nameLocation":"9829:6:18","nodeType":"VariableDeclaration","scope":4933,"src":"9821:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4929,"name":"uint256","nodeType":"ElementaryTypeName","src":"9821:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9820:16:18"},"returnParameters":{"id":4932,"nodeType":"ParameterList","parameters":[],"src":"9845:0:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4941,"nodeType":"FunctionDefinition","src":"10180:76:18","nodes":[],"documentation":{"id":4934,"nodeType":"StructuredDocumentation","src":"9852:323:18","text":" @notice Transfers the collateral NFT to `sendCollateralTo` and closes the loan.\n @dev Can only be called by Lend Ticket holder. Can only be called \n if block.timestamp > loanEndSeconds()\n @param loanId The loan id\n @param sendCollateralTo The address to send the collateral NFT to"},"functionSelector":"ac9cf4db","implemented":false,"kind":"function","modifiers":[],"name":"seizeCollateral","nameLocation":"10189:15:18","parameters":{"id":4939,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4936,"mutability":"mutable","name":"loanId","nameLocation":"10213:6:18","nodeType":"VariableDeclaration","scope":4941,"src":"10205:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4935,"name":"uint256","nodeType":"ElementaryTypeName","src":"10205:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4938,"mutability":"mutable","name":"sendCollateralTo","nameLocation":"10229:16:18","nodeType":"VariableDeclaration","scope":4941,"src":"10221:24:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4937,"name":"address","nodeType":"ElementaryTypeName","src":"10221:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"10204:42:18"},"returnParameters":{"id":4940,"nodeType":"ParameterList","parameters":[],"src":"10255:0:18"},"scope":4999,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4965,"nodeType":"FunctionDefinition","src":"11115:444:18","nodes":[],"documentation":{"id":4942,"nodeType":"StructuredDocumentation","src":"10262:848:18","text":" @notice returns the info for this loan\n @param loanId The id of the loan\n @return closed Whether or not the ticket is closed\n @return perAnumInterestRate The per anum interest rate, scaled by SCALAR\n @return durationSeconds The loan duration in seconds\n @return lastAccumulatedTimestamp The timestamp (in seconds) when interest was last accumulated, \n i.e. the timestamp of the most recent underwriting\n @return collateralContractAddress The contract address of the NFT collateral \n @return loanAssetContractAddress The contract address of the loan asset.\n @return accumulatedInterest The amount of interest accumulated on the loan prior to the current lender\n @return loanAmount The loan amount\n @return collateralTokenId The token ID of the NFT collateral"},"functionSelector":"8349d6be","implemented":false,"kind":"function","modifiers":[],"name":"loanInfo","nameLocation":"11124:8:18","parameters":{"id":4945,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4944,"mutability":"mutable","name":"loanId","nameLocation":"11141:6:18","nodeType":"VariableDeclaration","scope":4965,"src":"11133:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4943,"name":"uint256","nodeType":"ElementaryTypeName","src":"11133:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11132:16:18"},"returnParameters":{"id":4964,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4947,"mutability":"mutable","name":"closed","nameLocation":"11216:6:18","nodeType":"VariableDeclaration","scope":4965,"src":"11211:11:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":4946,"name":"bool","nodeType":"ElementaryTypeName","src":"11211:4:18","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":4949,"mutability":"mutable","name":"perAnumInterestRate","nameLocation":"11243:19:18","nodeType":"VariableDeclaration","scope":4965,"src":"11236:26:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":4948,"name":"uint16","nodeType":"ElementaryTypeName","src":"11236:6:18","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":4951,"mutability":"mutable","name":"durationSeconds","nameLocation":"11283:15:18","nodeType":"VariableDeclaration","scope":4965,"src":"11276:22:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":4950,"name":"uint32","nodeType":"ElementaryTypeName","src":"11276:6:18","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":4953,"mutability":"mutable","name":"lastAccumulatedTimestamp","nameLocation":"11319:24:18","nodeType":"VariableDeclaration","scope":4965,"src":"11312:31:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"},"typeName":{"id":4952,"name":"uint40","nodeType":"ElementaryTypeName","src":"11312:6:18","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"visibility":"internal"},{"constant":false,"id":4955,"mutability":"mutable","name":"collateralContractAddress","nameLocation":"11365:25:18","nodeType":"VariableDeclaration","scope":4965,"src":"11357:33:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4954,"name":"address","nodeType":"ElementaryTypeName","src":"11357:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4957,"mutability":"mutable","name":"loanAssetContractAddress","nameLocation":"11412:24:18","nodeType":"VariableDeclaration","scope":4965,"src":"11404:32:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4956,"name":"address","nodeType":"ElementaryTypeName","src":"11404:7:18","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":4959,"mutability":"mutable","name":"accumulatedInterest","nameLocation":"11458:19:18","nodeType":"VariableDeclaration","scope":4965,"src":"11450:27:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4958,"name":"uint128","nodeType":"ElementaryTypeName","src":"11450:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4961,"mutability":"mutable","name":"loanAmount","nameLocation":"11499:10:18","nodeType":"VariableDeclaration","scope":4965,"src":"11491:18:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":4960,"name":"uint128","nodeType":"ElementaryTypeName","src":"11491:7:18","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":4963,"mutability":"mutable","name":"collateralTokenId","nameLocation":"11531:17:18","nodeType":"VariableDeclaration","scope":4965,"src":"11523:25:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4962,"name":"uint256","nodeType":"ElementaryTypeName","src":"11523:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11197:361:18"},"scope":4999,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4974,"nodeType":"FunctionDefinition","src":"11846:76:18","nodes":[],"documentation":{"id":4966,"nodeType":"StructuredDocumentation","src":"11565:276:18","text":" @notice returns the info for this loan\n @dev this is a convenience method for other contracts that would prefer to have the \n Loan object not decomposed. \n @param loanId The id of the loan\n @return Loan struct corresponding to loanId"},"functionSelector":"b6ecac57","implemented":false,"kind":"function","modifiers":[],"name":"loanInfoStruct","nameLocation":"11855:14:18","parameters":{"id":4969,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4968,"mutability":"mutable","name":"loanId","nameLocation":"11878:6:18","nodeType":"VariableDeclaration","scope":4974,"src":"11870:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4967,"name":"uint256","nodeType":"ElementaryTypeName","src":"11870:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11869:16:18"},"returnParameters":{"id":4973,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4972,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4974,"src":"11909:11:18","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Loan_$4762_memory_ptr","typeString":"struct INFTLoanFacilitator.Loan"},"typeName":{"id":4971,"nodeType":"UserDefinedTypeName","pathNode":{"id":4970,"name":"Loan","nodeType":"IdentifierPath","referencedDeclaration":4762,"src":"11909:4:18"},"referencedDeclaration":4762,"src":"11909:4:18","typeDescriptions":{"typeIdentifier":"t_struct$_Loan_$4762_storage_ptr","typeString":"struct INFTLoanFacilitator.Loan"}},"visibility":"internal"}],"src":"11908:13:18"},"scope":4999,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4982,"nodeType":"FunctionDefinition","src":"12062:67:18","nodes":[],"documentation":{"id":4975,"nodeType":"StructuredDocumentation","src":"11928:129:18","text":" @notice returns the total amount owed for the loan, i.e. principal + interest\n @param loanId The loan id"},"functionSelector":"e926e9af","implemented":false,"kind":"function","modifiers":[],"name":"totalOwed","nameLocation":"12071:9:18","parameters":{"id":4978,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4977,"mutability":"mutable","name":"loanId","nameLocation":"12089:6:18","nodeType":"VariableDeclaration","scope":4982,"src":"12081:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4976,"name":"uint256","nodeType":"ElementaryTypeName","src":"12081:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12080:16:18"},"returnParameters":{"id":4981,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4980,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4982,"src":"12120:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4979,"name":"uint256","nodeType":"ElementaryTypeName","src":"12120:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12119:9:18"},"scope":4999,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4990,"nodeType":"FunctionDefinition","src":"12258:70:18","nodes":[],"documentation":{"id":4983,"nodeType":"StructuredDocumentation","src":"12135:118:18","text":" @notice returns the interest owed on the loan, in loan asset units\n @param loanId The loan id"},"functionSelector":"10780bed","implemented":false,"kind":"function","modifiers":[],"name":"interestOwed","nameLocation":"12267:12:18","parameters":{"id":4986,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4985,"mutability":"mutable","name":"loanId","nameLocation":"12288:6:18","nodeType":"VariableDeclaration","scope":4990,"src":"12280:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4984,"name":"uint256","nodeType":"ElementaryTypeName","src":"12280:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12279:16:18"},"returnParameters":{"id":4989,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4988,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4990,"src":"12319:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4987,"name":"uint256","nodeType":"ElementaryTypeName","src":"12319:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12318:9:18"},"scope":4999,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4998,"nodeType":"FunctionDefinition","src":"12451:72:18","nodes":[],"documentation":{"id":4991,"nodeType":"StructuredDocumentation","src":"12334:112:18","text":" @notice returns the unix timestamp (seconds) of the loan end\n @param loanId The loan id"},"functionSelector":"5ecd2173","implemented":false,"kind":"function","modifiers":[],"name":"loanEndSeconds","nameLocation":"12460:14:18","parameters":{"id":4994,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4993,"mutability":"mutable","name":"loanId","nameLocation":"12483:6:18","nodeType":"VariableDeclaration","scope":4998,"src":"12475:14:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4992,"name":"uint256","nodeType":"ElementaryTypeName","src":"12475:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12474:16:18"},"returnParameters":{"id":4997,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4996,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4998,"src":"12514:7:18","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4995,"name":"uint256","nodeType":"ElementaryTypeName","src":"12514:7:18","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12513:9:18"},"scope":4999,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"INFTLoanFacilitator","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[4999],"name":"INFTLoanFacilitator","nameLocation":"67:19:18","scope":5000,"usedErrors":[]}],"license":"MIT"},"id":18}